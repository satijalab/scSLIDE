% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pls.R
\name{cppls_ondisk.IterableMatrix}
\alias{cppls_ondisk.IterableMatrix}
\title{CPLS (Canonical PLS) for IterableMatrix}
\usage{
\method{cppls_ondisk}{IterableMatrix}(
  X,
  Y,
  Y.add = NULL,
  ncomp,
  center = TRUE,
  stripped = FALSE,
  w.tol = 0,
  X.tol = 1e-12,
  ...
)
}
\arguments{
\item{X}{An IterableMatrix (features x samples, the BPCells convention).
The transpose is handled internally.}

\item{Y}{A matrix or vector of primary responses (samples x q).}

\item{Y.add}{A matrix of additional responses (samples x q_add), or NULL.
Y.add provides information that guides loading weights but does not
enter the regression coefficients.}

\item{ncomp}{Integer; number of PLS components to compute.}

\item{center}{Logical; whether to center X and Y (default \code{TRUE}).}

\item{stripped}{Logical; if \code{TRUE} return only coefficients, Xmeans, and
Ymeans for speed (default \code{FALSE}).}

\item{w.tol}{Numeric; threshold for zeroing small loading weights (default 0).}

\item{X.tol}{Numeric; threshold for small-norm variable detection (default 1e-12).}

\item{...}{Additional arguments (currently unused).}
}
\value{
A list with components:
\describe{
\item{coefficients}{Regression coefficients (p x q x ncomp array).}
\item{scores}{X-scores (n x ncomp matrix).}
\item{loadings}{X-loadings (p x ncomp matrix).}
\item{loading.weights}{Loading weights (p x ncomp matrix).}
\item{Yscores}{Y-scores (n x ncomp matrix).}
\item{Yloadings}{Y-loadings (q x ncomp matrix).}
\item{projection}{Projection matrix (p x ncomp matrix).}
\item{Xmeans}{Column means of X (length p).}
\item{Ymeans}{Column means of Y (length q).}
\item{fitted.values}{Fitted Y values (n x q x ncomp array).}
\item{residuals}{Residuals (n x q x ncomp array).}
\item{Xvar}{Variance explained in X per component (length ncomp).}
\item{Xtotvar}{Total variance in X (scalar).}
\item{gammas}{Power values per component (0.5 for all in this implementation).}
\item{canonical.correlations}{Squared canonical correlations per component.}
\item{A}{CCA weight vectors (q_full x ncomp matrix).}
\item{smallNorm}{Indices of near-zero-norm variables.}
}
If \code{stripped = TRUE}, only \code{coefficients}, \code{Xmeans},
\code{Ymeans}, \code{gammas}, \code{canonical.correlations}, \code{A},
and \code{smallNorm} are returned.
}
\description{
Compute CPLS decomposition for large on-disk BPCells matrices.
CPLS uses canonical correlation analysis (CCA) to determine loading weights,
which can improve performance with multi-response or mixed-type response data.
}
